{"version":3,"sources":["./src/app/open-file/open-file.module.ts","./src/app/open-file/open-file.component.ts","./src/app/open-file/open-file.component.html"],"names":[],"mappings":"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","file":"open-file-open-file-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { OpenFileComponent } from './open-file.component';\nimport { ShareModule } from '../share/share.module';\n\n@NgModule({\n  declarations: [OpenFileComponent],\n  imports: [\n    CommonModule,\n    ShareModule,\n    RouterModule.forChild([\n      {\n        path: \"\",\n        component: OpenFileComponent\n      }\n    ])\n  ]\n})\nexport class OpenFileModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { AppService } from '../app.service';\nimport { EditorComponent } from '../share/editor/editor.component';\nimport { post } from '../welcome/blog/post.interface';\n\n@Component({\n  selector: 'app-open-file',\n  templateUrl: './open-file.component.html',\n  styleUrls: ['./open-file.component.scss']\n})\nexport class OpenFileComponent implements OnInit {\n  @ViewChild(EditorComponent) editor: EditorComponent;\n  data: post;\n  enable: boolean = false;\n  constructor(private app: AppService) { }\n  ngOnInit() {\n    if (this.app.user == undefined) {\n      this.app.dialogService.alert(\n        \"خطا\",\n        \"يجب ان تكون مسجل دخول\",\n        \"\",\n        \"نمام\",\n        \"alert\"\n      )\n      return;\n    }\n    this.data = {};\n    this.data.id = this.app.actRoute.snapshot.queryParams.id;\n    this.data.userId = this.app.actRoute.snapshot.queryParams.userId;\n    this.data.header = `@post.${this.data.id}.json`;\n    if (this.app.user.id == this.data.userId) {\n      this.enable = true;\n    }\n  }\n  save(a: string) {\n    this.app.wait();\n    this.editor.editor.save().then((outputData) => {\n      if (outputData.blocks.length == 0) {\n        this.app.wait(false);\n        this.app.log(\"بعض البيانات مفقودة\");\n        return;\n      }\n      this.app.http.put(`/api/posts/${this.data.userId}/${this.data.id}?name=${a}`, {\n        content: outputData.blocks,\n      }).subscribe(\n        res => {\n          this.app.wait(false);\n          this.app.dialogService.alert(\n            \"معلومة\",\n            \"تم الحفظ بنجاح\",\n            \"\",\n            \"تمام\"\n          )\n        },\n        err => { }\n      )\n    }).catch((error) => { });\n  }\n}\n","<div class=\"h-100 boduApp\">\n    <div class=\"app-bar bg-cyan z-1\" data-role=\"appbar\">\n        <h5 class=\"brand no-hover fg-white m-0 mr-2\">مساعدك الشخصى</h5>\n    </div>\n    <div class=\"grid\" style=\"overflow: auto;\">\n        <input #header dir=\"ltr\" type=\"text\" class=\"cell\" [value]=\"data.header\" data-role=\"input\" [readonly]=\"!enable\"\n            #header data-prepend=\"عنوان المنشور : \">\n        <app-editor [data]=\"data\" style=\"overflow-x: hidden;\"></app-editor>\n        <div class=\"dialog-actions\" *ngIf=\"enable\">\n            <button class=\"button primary w-25\" (click)=\"save(header.value.trim())\">حفظ</button>\n        </div>\n    </div>\n</div>"],"sourceRoot":"webpack:///"}